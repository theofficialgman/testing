name: Test CI
# Controls when the workflow will run
on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: host commands
        run: |
          update-binfmts --display
      - name: Test installing app on L4T noble arm64
        uses: theofficialgman/arm-runner-action@v12.3
        with:
          base_image: https://github.com/theofficialgman/testing/releases/download/gmans-releases/theofficialgman-ubuntu-noble-5.1.2-2024-04-28.7z
          # add special arguments for switchroot image format
          bootpartition:
          rootpartition: 1
          bind_mount_repository: yes
          image_additional_mb: 5000
          # use TX1 ARM CPU cores
          cpu: cortex-a7:cortex-a57
          shell: /bin/bash
          commands: |
            wget https://github.com/musescore/MuseScore/releases/download/v4.3.1/MuseScore-Studio-4.3.1.241490902-aarch64.AppImage -O /tmp/MuseScore.AppImage
            chmod +x /tmp/MuseScore.AppImage
            sudo /tmp/MuseScore.AppImage install

