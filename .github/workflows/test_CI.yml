name: Test CI
# Controls when the workflow will run
on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: Test installing app on L4T noble arm64
        uses: theofficialgman/arm-runner-action@v12
        with:
          base_image: https://github.com/theofficialgman/testing/releases/download/gmans-releases/theofficialgman-ubuntu-noble-5.1.2-2024-04-28.7z
          # add special arguments for switchroot image format
          bootpartition:
          rootpartition: 1
          bind_mount_repository: yes
          image_additional_mb: 5000
          # use TX1 ARM CPU cores
          cpu: cortex-a7:cortex-a57
          cpu_info: cpuinfo/raspberrypi_4b
          shell: /bin/bash
          commands: |
            sudo apt update
            sudo apt install curl -y
            source <(curl -s https://raw.githubusercontent.com/cobalt2727/L4T-Megascript/master/functions.sh)