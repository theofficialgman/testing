name: Test CI
# Controls when the workflow will run
on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
jobs:
  job1:
    # The type of runner that the job will run on
    runs-on: ubuntu-20.04
    container: ubuntu:18.04
    defaults:
      run:
        shell: bash

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: Install dependencies into dockerfile
        run: |
          apt update
          apt install -y software-properties-common lsb-release sudo wget tree
          wget https://unofficial-builds.nodejs.org/download/release/v20.15.0/node-v20.15.0-linux-x64-glibc-217.tar.gz
          tar -xvf node-v20.15.0-linux-x64-glibc-217.tar.gz
          ls -l
          tree /__e/ /opt ./node-v20.15.0-linux-x64-glibc-217/bin
          # install new enough git to run actions/checkout
          sudo add-apt-repository ppa:git-core/ppa -y
          sudo apt update
          sudo apt install -y git
          # avoid "fatal: detected dubious ownership in repository" error
          git config --global --add safe.directory '*'
      - uses: actions/checkout@v3

